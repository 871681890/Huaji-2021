[toc]
## src2Gray()
* 所属类：BaseObject
* 作用：将_roiSrc灰度化为_grayImg

### 变量说明

| 变量名   | 变量作用域             | 类型    | 说明            |
| -------- | ---------------------- | ------- | --------------- |
| _roiSrc  | BaseObject私有成员变量 | cv::Mat | roi区域彩色原图 |
| _grayImg | BaseObject私有成员变量 | cv::Mat | roi区域灰度图   |



## 图像灰度化
>
  将彩色图像转化成为灰度图像的过程成为图像的灰度化处理。彩色图像中的每个像素的颜色有R、G、B三个分量决定，而每个分量有255中值可取，这样一个像素点可以有1600多万（255*255*255）的颜色的变化范围。而灰度图像是R、G、B三个分量相同的一种特殊的彩色图像，其一个像素点的变化范围为255种，所以在数字图像处理种一般先将各种格式的图像转变成灰度图像以使后续的图像的计算量变得少一些。灰度图像的描述与彩色图像一样仍然反映了整幅图像的整体和局部的色度和亮度等级的分布和特征。
>
### 作用
求出每个像素点的R、G、B三个分量的平均值，然后将这个平均值赋予给这个像素的三个分量，(不过OpenCV中有API可以直接调用，就不详细说了）

还有第二种方法：第二种方法是根据YUV的颜色空间中，Y的分量的物理意义是点的亮度，由该值反映亮度等级，根据RGB和YUV颜色空间的变化关系可建立亮度Y与R、G、B三个颜色分量的对应：Y=0.3R+0.59G+0.11B，以这个亮度值表达图像的灰度值。（不过了解即可。）

### 核心代码

``` c++

cvtColor(_roiSrc, _grayImg,cv::COLOR_RGB2GRAY);
	
```
第一个参数SRC： 输入图像为8位无符号，16位无符号（CV_16UC …）或单精度浮点。
第二个参数DST：输出与src相同大小和深度的图像。
第三个参数：code，该code来实现不同类型的颜色空间转换。而转灰度图就是用到COLOR_RGB2GRAY（还有种参数是COLOR_BGR2GRAY）;

### 效果

  ![原图：](https://img2018.cnblogs.com/blog/1363376/201903/1363376-20190319175239264-1232167387.png)

  ![灰度图：](https://img2018.cnblogs.com/blog/1363376/201903/1363376-20190319175248090-1157701705.png)

